{"version":3,"file":"5.30af0eb00a20ccba3b9d.hot-update.js","sources":["webpack:///pages/index.js"],"sourcesContent":["import { withRouter } from 'next/router'\r\nimport fetch from 'isomorphic-unfetch'\r\nimport imagesLoaded from 'imagesloaded'\r\n\r\nimport Layout from '../src/components/layout'\r\nimport Hero from '../src/components/hero'\r\nimport About from '../src/components/about'\r\nimport Services from '../src/components/services'\r\nimport Products from '../src/components/products'\r\nimport ProductModal from '../src/components/product-modal'\r\nimport Organic from '../src/components/organic'\r\nimport Certificate from '../src/components/certificate'\r\nimport LocationSection from '../src/components/location'\r\nimport Contact from '../src/components/contact'\r\n\r\nimport es from '../src/data/data-es'\r\nimport en from '../src/data/data-en'\r\nimport ru from '../src/data/data-ru'\r\nimport pt from '../src/data/data-pt'\r\n\r\nconst data = { es, en, ru, pt }\r\n\r\nclass Index extends React.Component {\r\n\tstate = {\r\n\t\tproductModal: false,\r\n\t\tproduct: null,\r\n\t\tcertificateModal: false,\r\n\t\tsections: [],\r\n\t\tsectionToScroll: ''\r\n\t}\r\n\r\n\tstatic getInitialProps = async ({ query }) => {\r\n\t\tconst { lang = 'en' } = query\r\n\t\tconst content = data[lang]\r\n\r\n\t\treturn { lang, content }\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tconst sections = Array.from(document.querySelectorAll('section.scroll'))\r\n\r\n\t\tthis.waitForImages()\r\n\t\tthis.setState({ sections })\r\n\r\n\t\tconsole.log('INIT PROPS: ', this.props)\r\n\t}\r\n\r\n\tcomponentDidUpdate() {\r\n\t\tconst { sections, sectionToScroll } = this.state\r\n\r\n\t\tsections.map(\r\n\t\t\tsection =>\r\n\t\t\t\tsection.id == sectionToScroll &&\r\n\t\t\t\tsection.scrollIntoView({ block: 'start', behavior: 'smooth' })\r\n\t\t)\r\n\t}\r\n\r\n\thandleScroll = section => this.setState({ sectionToScroll: section })\r\n\r\n\thandleModal = (e, product = null) => {\r\n\t\tconst modalTarget = e.currentTarget.classList.contains('product')\r\n\t\t\t? 'productModal'\r\n\t\t\t: 'certificateModal'\r\n\t\tconst openModal = !this.state[modalTarget]\r\n\r\n\t\te.preventDefault()\r\n\t\tthis.setState({ [modalTarget]: openModal, product })\r\n\t}\r\n\r\n\twaitForImages = () => {\r\n\t\tconst imgs = document.querySelectorAll('img')\r\n\t\tfor (let img of imgs) {\r\n\t\t\timagesLoaded(img, obj => (obj.images[0].img.style.opacity = 1))\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { content } = this.props\r\n\t\tconst {\r\n\t\t\tmenu,\r\n\t\t\tmain: { home, about, services, products, organic, location, contact }\r\n\t\t} = content\r\n\r\n\t\tconst langs = Array.from(data).map(lang => console.log(lang))\r\n\r\n\t\treturn (\r\n\t\t\t<Layout\r\n\t\t\t\tmenu={menu}\r\n\t\t\t\tlangs={Object.keys(data)}\r\n\t\t\t\tsections={this.state.sections}\r\n\t\t\t\tmenuClick={this.handleScroll}\r\n\t\t\t>\r\n\t\t\t\t<ProductModal\r\n\t\t\t\t\topen={this.state.productModal}\r\n\t\t\t\t\tcontent={this.state.product}\r\n\t\t\t\t\tcloseModal={this.handleModal}\r\n\t\t\t\t/>\r\n\t\t\t\t<Hero content={home} />\r\n\t\t\t\t<About content={about} />\r\n\t\t\t\t<Services content={services} />\r\n\t\t\t\t<Products content={products} openModal={this.handleModal} />\r\n\t\t\t\t<Organic content={organic} openModal={this.handleModal} />\r\n\t\t\t\t<LocationSection content={location} />\r\n\t\t\t\t<Contact content={contact} />\r\n\t\t\t\t<Certificate\r\n\t\t\t\t\topen={this.state.certificateModal}\r\n\t\t\t\t\tcloseModal={this.handleModal}\r\n\t\t\t\t/>\r\n\t\t\t</Layout>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default withRouter(Index)\r\n\n\n\n// WEBPACK FOOTER //\n// pages/index.js"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;;;;;;;;;;;;;;;;;;;;AACA;AACA;AACA;AACA;AACA;AACA;AALA;;;;;AAkCA;AAAA;AAAA;AAAA;AAAA;;;;;AAEA;AAAA;AACA;AADA;AACA;AAGA;AAEA;AACA;AAAA;AACA;;;;;AAEA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAEA;AAAA;AACA;AAAA;AAAA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;;;;;;AApCA;AACA;AAEA;AACA;AAAA;AAAA;AAEA;AACA;;;AAEA;AAAA;AAAA;AAAA;AAGA;AACA;AAEA;AAAA;AAAA;AAFA;AAIA;;;AAqBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAEA;AAEA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAOA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAMA;;;;AAxFA;AACA;AADA;;;;;;;AASA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAFA;AAIA;AAAA;AAAA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;;;;;AAiFA;;;;;;;;;;;;;;;;;;;;;;;A","sourceRoot":""}