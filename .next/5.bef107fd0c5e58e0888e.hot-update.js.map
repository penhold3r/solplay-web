{"version":3,"file":"5.bef107fd0c5e58e0888e.hot-update.js","sources":["webpack:///src/components/contact.js","webpack:///src/data/submit-form.js"],"sourcesContent":["import Social from './social'\r\nimport submitForm from '../data/submit-form'\r\n\r\nclass Contact extends React.Component {\r\n   state = {}\r\n   handleChange = e => this.setState({ [e.target.name]: e.target.value })\r\n   handleSubmit = e => {\r\n      e.preventDefault()\r\n      const submitSettings = {\r\n         dest: '/contact.php',\r\n         fields: '.field',\r\n         successMsg: 'Mensaje enviado!',\r\n         errorMsg: 'Hubo un error, intente más tarde. :('\r\n      }\r\n      submitForm(e.target, submitSettings)\r\n      console.log(e.target)\r\n   }\r\n\r\n   render() {\r\n      return (\r\n         <section id=\"contacto\" className=\"contact scroll\">\r\n            <h1 className=\"main-title\">Contacto</h1>\r\n            <form className=\"contact-form\" onSubmit={this.handleSubmit}>\r\n               <div className=\"form-field\">\r\n                  <input\r\n                     type=\"text\"\r\n                     name=\"name\"\r\n                     id=\"name\"\r\n                     className=\"field\"\r\n                     placeholder=\" \"\r\n                     onChange={this.handleChange}\r\n                  />\r\n                  <label htmlFor=\"name\">Nombre</label>\r\n               </div>\r\n               <div className=\"form-field\">\r\n                  <input\r\n                     type=\"email\"\r\n                     name=\"email\"\r\n                     id=\"email\"\r\n                     className=\"field\"\r\n                     placeholder=\" \"\r\n                     onChange={this.handleChange}\r\n                  />\r\n                  <label htmlFor=\"email\">E-mail</label>\r\n               </div>\r\n               <div className=\"form-field\">\r\n                  <textarea\r\n                     name=\"msg\"\r\n                     id=\"msg\"\r\n                     className=\"field msg\"\r\n                     placeholder=\" \"\r\n                     onChange={this.handleChange}\r\n                  />\r\n                  <label htmlFor=\"msg\">Mensaje</label>\r\n               </div>\r\n               <input type=\"submit\" className=\"button\" value=\"Enviar\" />\r\n            </form>\r\n            <Social className=\"contact-social\" />\r\n            <div className=\"contact-details\">\r\n               <div className=\"contact-link\">\r\n                  <a\r\n                     href=\"https://goo.gl/maps/WrcgbGnL3V92\"\r\n                     target=\"_blank\"\r\n                     rel=\"noopener\"\r\n                     className=\"icon-map-pin-streamline\"\r\n                  >\r\n                     Ruta Provincial, 24, km, 16, 5535. - Mendoza Argentina.\r\n                  </a>\r\n               </div>\r\n               <div className=\"contact-link\">\r\n                  <a\r\n                     href=\"mailto:agrovit@hotmail.com\"\r\n                     className=\"icon-envelope-o\"\r\n                  >\r\n                     agrovit@hotmail.com\r\n                  </a>\r\n               </div>\r\n               <div className=\"contact-link\">\r\n                  <a href=\"tel:+5492614549231\" className=\"icon-phone\">\r\n                     54 9 261 454 9231\r\n                  </a>\r\n               </div>\r\n            </div>\r\n         </section>\r\n      )\r\n   }\r\n}\r\n\r\nexport default Contact\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/contact.js","//--------------------------------------------------------\n//>>   SUBMIT FORMS \n//--------------------------------------------------------\n/**\n * \n * @param {HTMLFormElement} form - reference to form elemnt\n * @param {Object.<string, *>} settings - settings before send\n */\nconst submitForm = (form, settings) => {\n   if (!settings || !form) {\n      console.warn('Must configure form settings');\n      return false;\n   }\n   else if (!settings.dest) console.warn('Must set \"dest\" property: exaple – \"dest\":\"/contact\"');\n   else if (!settings.fields) console.warn('Must set \"fields\" property value with input class name.');\n   else {\n      form.setAttribute('novalidate', '');\n      submitFormData(form, settings);\n   }\n}\n//\nconst submitFormData = (form, settings) => {\n   const fields = form.querySelectorAll(settings.fields);\n   const msg = document.createElement('div');\n   const validate = /^[a-zA-Z0-9_\\.\\-]+@[a-zA-Z0-9\\-]+\\.[a-zA-Z0-9\\-\\.]+$/;\n   const formData = new FormData(form);\n   const opt = { method: 'POST' }\n   //\n   for (let field of fields) {\n      if (field.hasAttribute('required')) {\n         if (field.value === '' || (field.getAttribute('name') === 'email' && !validate.test(field.value))) {\n            field.focus();\n            return false;\n         }\n      }\n   }\n   //\n   msg.classList.add('output-msg');\n   msg.innerHTML = '<p></p>';\n   if (!document.body.contains(document.querySelector('.output-msg'))) form.append(msg);\n   //\n   if (settings.closeMsg == 'true') {\n      const msgClose = document.createElement('div');\n      msgClose.classList.add('close-form-msg');\n      msg.appendChild(msgClose);\n      msgClose.addEventListener('click', e => msg.classList.remove('visible'));\n   }\n   //\n   if (settings.name) formData.append('form-name', settings.name);\n   if (settings.reciever) formData.append('dest', settings.reciever);\n   //\n   opt.headers = {\n      \"Content-Type\": settings.urlencoded\n         ? \"application/x-www-form-urlencoded\"\n         : \"application/json\"\n   };\n   opt.body = settings.urlencoded\n      ? urlencodeFormData(formData)\n      : formData;\n   //\n   console.log('data: ', opt);\n   //\n   fetch(settings.dest, opt)\n      .then(resp => {\n         if (resp.ok) {\n            msg.querySelector('p').innerHTML = !settings.successMsg ? 'ok' : settings.successMsg;\n            msg.querySelector('p').className = 'msg-ok';\n            msg.classList.add('visible');\n            form.reset();\n            //\n            console.log('successful', opt);\n         }\n         else {\n            msg.querySelector('p').innerHTML = !settings.errorMsg ? 'error' : settings.errorMsg;\n            msg.querySelector('p').className = 'msg-error';\n            msg.classList.add('visible');\n            form.reset();\n            //\n            console.warn('failed');\n         }\n      })\n      .catch(err => console.error('Error: ', err));\n}\n//\n/**\n * \n * @param {FormData} fd - FromData Object to encode\n * @returns {String}  \n */\nconst urlencodeFormData = fd => {\n   let str = '';\n   const encode = str => encodeURIComponent(str).replace(/%20/g, '+');\n   for (const pair of fd.entries()) {\n      if (typeof pair[1] == 'string') {\n         str += (str ? '&' : '') + encode(pair[0]) + '=' + encode(pair[1]);\n      }\n   }\n   return str;\n}\n//\nexport default submitForm;\n\n\n// WEBPACK FOOTER //\n// src/data/submit-form.js"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;AACA;;;;;AACA;AAAA;AAAA;;;;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AACA;;;;;;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AANA;AAAA;AAAA;AAAA;AAAA;AAQA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AANA;AAAA;AAAA;AAAA;AAAA;AAQA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AASA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;;;;AAlFA;AACA;AAoFA;;;;;;;;ACxFA;AACA;AACA;AACA;AAAA;;;;;AAKA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AADA;AALA;AAAA;AAAA;AACA;AADA;AAOA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAfA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAeA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AADA;AAKA;AACA;AAGA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;;;;;;;AAKA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAHA;AAAA;AAAA;AACA;AADA;AAGA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAOA;AACA;AACA;AACA;AAAA;;;;A","sourceRoot":""}